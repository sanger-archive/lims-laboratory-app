
{"header":["Accept: application/json"],"response_header":["Content-Type: application/json"],"description":"","method":"GET","url":"/11111111-2222-3333-1111-111111111111/revisions","status":200,"response":{},"setup":"##################################################\n# Session 1 : create tube and rack\n# Impact : +tube1, +sample1, +sample2, +rack1, +rack2\n##################################################\n\ndebugger\nsample1 = Lims::LaboratoryApp::Laboratory::Sample.new(:name => 'sample 1')\nsample2 = Lims::LaboratoryApp::Laboratory::Sample.new(:name => 'sample 2')\n\ntube1 = Lims::LaboratoryApp::Laboratory::Tube.new \ntube1 << Lims::LaboratoryApp::Laboratory::Aliquot.new(:quantity => 10, :type => \"DNA\", :sample => sample1)\n\nrack1 = Lims::LaboratoryApp::Laboratory::TubeRack.new(:number_of_rows => 8, :number_of_columns => 12)\nrack2 = Lims::LaboratoryApp::Laboratory::TubeRack.new(:number_of_rows => 8, :number_of_columns => 12)\n\nsave_with_uuid({\n  sample1 => [1,2,3,0,1],\n  sample2 => [1,2,3,0,2],\n  tube1 => [1,2,3,1,1],\n  rack1 => [1,2,3,2,1],\n  rack2 => [1,2,3,2,2],\n})\n\nsession_id1 = get_last_session_id\n##################################################\n# Session 2 : put tube in a rack\n# Impact: !tube1, !rack1\n##################################################\n\nstore.with_session do |session|\n  tube = session['11111111-2222-3333-1111-111111111111']\n  rack = session['11111111-2222-3333-2222-111111111111']\n  rack[\"A1\"] = tube\nend\n\n##################################################\n# Session 3 : swap sample to sample 2\n# Impact : !tube1, !sample1, !sample2, !rack1\n##################################################\n\nstore.with_session do |session|\n  tube = session['11111111-2222-3333-1111-111111111111']\n  sample2 = session['11111111-2222-3333-0000-222222222222']\n  tube[0].sample = sample2\nend\n\n##################################################\n# Session 4 : move tube in another rack\n# Impact: !tube1, !rack1, !rack2\n##################################################\n\nstore.with_session do |session|\n  tube = session['11111111-2222-3333-1111-111111111111']\n  rack1 = session['11111111-2222-3333-2222-111111111111']\n  rack2 = session['11111111-2222-3333-2222-222222222222']\n  rack1.clear\n  rack2[\"A1\"] = tube\nend\n\n\n"}
  
