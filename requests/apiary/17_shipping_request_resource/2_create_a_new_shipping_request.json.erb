<%
require 'json'
h={:header => [], :response_header => [] }
h[:description]=<<EOD
**Create a shipping request resource.**

* `name` the UUID of the labware
* `location` the location data of the labware

EOD
h[:method] = "POST"
h[:url]='/shipping_requests'
h[:header] << 'Accept: application/json'
h[:setup]=<<EOD
tube = Lims::LaboratoryApp::Laboratory::Tube.new
location = Lims::LaboratoryApp::Organization::Location.new(
    :name     => "ABC Hospital",
    :address  => "CB11 3DF Cambridge 123 Sample Way",
    :internal => false)

save_with_uuid tube => [1,2,3,4,0], location => [1,2,3,3,0]
location 
EOD
h[:parameters]=<<EOD
{ "shipping_request": {
    "name": "11111111-2222-3333-4444-000000000000",
    "location_uuid": "11111111-2222-3333-3333-000000000000"
}
}
EOD
h[:status]=200
h[:response_header] << 'Content-Type: application/json'
h[:response]=<<EOD
{ "shipping_request": {
    "actions": {
        "read": "/11111111-2222-3333-4444-555555555555",
        "create": "/11111111-2222-3333-4444-555555555555",
        "update": "/11111111-2222-3333-4444-555555555555",
        "delete": "/11111111-2222-3333-4444-555555555555"
    },
    "uuid": "11111111-2222-3333-4444-555555555555",
    "name": "11111111-2222-3333-4444-000000000000",
    "location": {
       "name": "ABC Hospital",
       "address": "CB11 3DF Cambridge 123 Sample Way",
       "internal": false
     }
}
}
EOD
%>
<%= h.to_json %>
